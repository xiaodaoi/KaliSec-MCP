---
description: Penetration testing for authorized security assessments
agent: security
model: anthropic/claude-3-5-sonnet-20241022
subtask: true
---

Execute penetration testing for target $ARGUMENTS with specified mode.

## Parameters
- $1: Target IP/domain/network
- $2: Optional mode (quick/comprehensive/stealth)

## Execution Flow

### 1. Confirm Authorization
First confirm user has obtained authorization for target testing.

### 2. Parse Parameters
Extract TARGET and MODE from $ARGUMENTS. Default MODE = comprehensive.

### 3. Start Attack Session
```
start_attack_session(target=TARGET, mode="apt")
```

### 4. Execute Testing Strategy Based on Mode

**Quick Mode** (mode=quick, ~15 minutes):
```
# Fast port scanning
nmap_scan(target=TARGET, scan_type="-sV -T4", ports="21,22,80,443,3306,8080")

# Fast Web scanning
gobuster_scan(url=f"http://{TARGET}", time_constraint="quick")

# Fast vulnerability detection
nuclei_scan(target=TARGET, severity="critical,high")
```

**Comprehensive Mode** (mode=comprehensive, ~60 minutes):
```
# Comprehensive network reconnaissance
comprehensive_network_scan(target=TARGET, deep_scan=True)

# Comprehensive Web security assessment
advanced_web_security_assessment(target=f"http://{TARGET}")

# Intelligent vulnerability assessment
intelligent_vulnerability_assessment(target=TARGET, assessment_depth="comprehensive")

# Network penetration testing
network_penetration_test(target=TARGET, scope="single")
```

**Stealth Mode** (mode=stealth):
```
# Low-profile stealth scanning
nmap_scan(target=TARGET, scan_type="-sS -T2", stealth_mode=True)

# Passive information gathering
theharvester_osint(domain=TARGET)

# Stealth Web scanning
gobuster_scan(url=f"http://{TARGET}", stealth_mode=True)
```

### 5. Log Findings
Use `log_attack_step()` to record results after each tool execution.

### 6. Generate Report
```
generate_poc_from_current_session()
end_attack_session()
```

## Report Content
- Execution summary
- Discovered vulnerabilities (sorted by CVSS score)
- Attack path diagram
- Detailed technical findings
- Remediation recommendations
- PoC code

## Examples
- /pentest 192.168.1.100
- /pentest 10.0.0.0/24 quick
- /pentest target.com stealth
